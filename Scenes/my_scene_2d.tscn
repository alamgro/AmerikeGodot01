[gd_scene load_steps=20 format=3 uid="uid://ci1d8j5223f0v"]

[ext_resource type="Script" path="res://Scripts/Movement/Movement.cs" id="1_2n3y8"]
[ext_resource type="Script" path="res://Scripts/GameManager.cs" id="1_vtp6c"]
[ext_resource type="Script" path="res://Scripts/Score/Score.cs" id="2_rnnnu"]
[ext_resource type="Script" path="res://Scripts/Coin/Coin.cs" id="3_3kesh"]
[ext_resource type="Texture2D" uid="uid://oo181xevho5t" path="res://Art/spritesheet.png" id="4_646mj"]
[ext_resource type="Texture2D" uid="uid://buyinqpgkki3y" path="res://Art/CollectablesSheet.png" id="4_lwj0e"]

[sub_resource type="CapsuleShape2D" id="CapsuleShape2D_3o73x"]

[sub_resource type="Animation" id="Animation_uw45b"]
resource_name = "Idle"
length = 0.55
loop_mode = 1
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("Sprite2D:frame")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0, 0.1, 0.2, 0.3, 0.4, 0.5),
"transitions": PackedFloat32Array(1, 1, 1, 1, 1, 1),
"update": 1,
"values": [126, 127, 128, 129, 130, 126]
}

[sub_resource type="Animation" id="Animation_w0myr"]
length = 0.001
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("Sprite2D:frame")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 1,
"values": [126]
}

[sub_resource type="Animation" id="Animation_3ok0s"]
resource_name = "Run"
length = 0.8
loop_mode = 1
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("Sprite2D:frame")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0, 0.1, 0.2, 0.3, 0.4, 0.5, 0.6, 0.7),
"transitions": PackedFloat32Array(1, 1, 1, 1, 1, 1, 1, 1),
"update": 1,
"values": [154, 155, 156, 157, 158, 159, 160, 161]
}

[sub_resource type="AnimationLibrary" id="AnimationLibrary_lpxfv"]
_data = {
"Idle": SubResource("Animation_uw45b"),
"RESET": SubResource("Animation_w0myr"),
"Run": SubResource("Animation_3ok0s")
}

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_fflpf"]
animation = &"Idle"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_iwqv2"]
animation = &"Run"

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_f5vnw"]
advance_mode = 2

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_plqcp"]
advance_mode = 2
advance_condition = &"Run"

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_dl15r"]
advance_mode = 2
advance_condition = &"Idle"

[sub_resource type="AnimationNodeStateMachine" id="AnimationNodeStateMachine_uy3ps"]
states/Idle/node = SubResource("AnimationNodeAnimation_fflpf")
states/Idle/position = Vector2(413, 76)
states/Run/node = SubResource("AnimationNodeAnimation_iwqv2")
states/Run/position = Vector2(590, 76)
states/Start/position = Vector2(243, 76)
transitions = ["Start", "Idle", SubResource("AnimationNodeStateMachineTransition_f5vnw"), "Idle", "Run", SubResource("AnimationNodeStateMachineTransition_plqcp"), "Run", "Idle", SubResource("AnimationNodeStateMachineTransition_dl15r")]

[sub_resource type="AnimationNodeStateMachinePlayback" id="AnimationNodeStateMachinePlayback_ohqo0"]

[sub_resource type="CircleShape2D" id="CircleShape2D_0q43c"]

[node name="MyScene2D" type="Node2D"]

[node name="GameManager" type="Node" parent="." node_paths=PackedStringArray("GameScore")]
script = ExtResource("1_vtp6c")
GameScore = NodePath("../Canvas/Score")

[node name="Canvas" type="CanvasLayer" parent="."]

[node name="Score" type="Label" parent="Canvas"]
offset_left = 45.0
offset_top = 36.0
offset_right = 158.0
offset_bottom = 81.0
theme_override_font_sizes/font_size = 30
text = "Score: 0"
script = ExtResource("2_rnnnu")

[node name="Player" type="CharacterBody2D" parent="."]
position = Vector2(408, 275)
script = ExtResource("1_2n3y8")
MoveSpeed = 400.0

[node name="CollisionShape2D" type="CollisionShape2D" parent="Player"]
position = Vector2(-12, 9)
scale = Vector2(1.5, 1.5)
shape = SubResource("CapsuleShape2D_3o73x")

[node name="Sprite2D" type="Sprite2D" parent="Player"]
texture_filter = 1
texture = ExtResource("4_646mj")
hframes = 14
vframes = 12
frame = 126

[node name="AnimationPlayer" type="AnimationPlayer" parent="Player"]
libraries = {
"": SubResource("AnimationLibrary_lpxfv")
}

[node name="AnimationTree" type="AnimationTree" parent="Player"]
tree_root = SubResource("AnimationNodeStateMachine_uy3ps")
anim_player = NodePath("../AnimationPlayer")
active = true
parameters/playback = SubResource("AnimationNodeStateMachinePlayback_ohqo0")
parameters/conditions/Idle = true
parameters/conditions/Run = false

[node name="Coin" type="Area2D" parent="."]
texture_filter = 1
position = Vector2(603, 273)
scale = Vector2(2, 2)
script = ExtResource("3_3kesh")
Value = 1

[node name="CollisionShape2D" type="CollisionShape2D" parent="Coin"]
shape = SubResource("CircleShape2D_0q43c")

[node name="Sprite2D" type="Sprite2D" parent="Coin"]
texture = ExtResource("4_lwj0e")
hframes = 20
vframes = 8
frame = 19

[node name="Coin2" type="Area2D" parent="."]
texture_filter = 1
position = Vector2(835, 273)
scale = Vector2(2, 2)
script = ExtResource("3_3kesh")
Value = 1

[node name="CollisionShape2D" type="CollisionShape2D" parent="Coin2"]
shape = SubResource("CircleShape2D_0q43c")

[node name="Sprite2D" type="Sprite2D" parent="Coin2"]
texture = ExtResource("4_lwj0e")
hframes = 20
vframes = 8
frame = 19
